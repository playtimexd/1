import React, { useState, useEffect, useRef } from 'react';
import { 
  Brain, 
  Layers, 
  Gamepad2, 
  Users, 
  Activity, 
  Code, 
  Box, 
  Music, 
  Video, 
  Search, 
  Globe, 
  BarChart, 
  Database, 
  Zap, 
  ChevronRight, 
  ArrowRight, 
  Menu, 
  X,
  Mail,
  Linkedin,
  Twitter,
  Cpu,
  FlaskConical,
  FileText,
  Wrench,
  MessageSquare,
  Tag
} from 'lucide-react';

/* --- DATA: PIPELINE CONTENT --- */
/* This data structure powers the entire website's content */

const PIPELINES_DATA = {
  "art": {
    id: "art",
    category: "Production",
    icon: <Box className="w-6 h-6" />,
    title: "Art AI Production Pipeline",
    shortDesc: "From concept and style exploration to deliverable assets and skin variations.",
    headerDesc: "Accelerating style exploration and concept iteration with AI, from world-building to deliverable assets.",
    tools: ["Stable Diffusion + ControlNet", "Midjourney", "Adobe Firefly", "Krita AI Plugin", "Photoshop Generative Fill"],
    flow: [
      "Brief & World Building",
      "Style / Mood Exploration (Moodboard)",
      "Concept Iteration (Char/Env)",
      "Multi-view / Turnaround Output",
      "3D / Outsourcing Delivery Pack",
      "Skin / Variant Batch Generation",
      "Style Unification & QA"
    ],
    comparison: [
      { dimension: "Style Exploration", trad: "Lead + Concept Artist sketching, slow iteration", ai: "Text + Ref images to generate styles, locking direction in days" },
      { dimension: "Concept Quantity", trad: "Limited by manpower, limited exploration space", ai: "AI generates dozens/hundreds, human selects & refines" },
      { dimension: "Multi-view", trad: "Manual drawing front/side/back", ai: "Auto-generate multi-views from one angle, artists fix key issues" },
      { dimension: "Skins/Variants", trad: "Manual design & painting one by one", ai: "Auto-generate color/material/theme variants based on base character" },
      { dimension: "Delivery Efficiency", trad: "Weeks for concept phase", ai: "Showcase-ready visuals in days" }
    ],
    roles: {
      ai: "Drafting / Batch Variants / Providing Divergent Exploration",
      human: "Art Direction / Selection / Paintover / Defining Guidelines & Quality Bar"
    }
  },
  "animation": {
    id: "animation",
    category: "Production",
    icon: <Activity className="w-6 h-6" />,
    title: "Animation AI Pipeline",
    shortDesc: "Transforming animation from 'fixing data' to 'shaping performance'.",
    headerDesc: "Automating tedious processes to let animators focus on character performance.",
    tools: ["Cascadeur", "Move.ai", "Motorica", "Rokoko Video", "Plask"],
    flow: [
      "Requirement Analysis",
      "Data Capture (Mocap / Keyframe)",
      "AI Cleanup & Retargeting",
      "Locomotion & Transitions",
      "Stylization & Personality",
      "Variant Generation",
      "QA & In-game Verification"
    ],
    comparison: [
      { dimension: "Mocap Cleanup", trad: "Animators spend hours fixing noise & sliding", ai: "AI cleans 70% of noise, humans handle complex issues" },
      { dimension: "Retargeting", trad: "Manual adjustment for different rigs/sizes", ai: "AI-assisted auto-retargeting + initial correction" },
      { dimension: "Transitions", trad: "Manual tweening & curve adjustment", ai: "AI generates transitions + animators refine details" },
      { dimension: "Stylization", trad: "Relies on manual experience per character", ai: "AI generates multiple 'personality versions' from base motion" },
      { dimension: "QA", trad: "Manual in-game checking", ai: "Batch detection of sliding, clipping, and rhythm anomalies" }
    ],
    roles: {
      ai: "Data Cleanup / Auto-Retargeting / Batch Transition Gen / Anomaly Detection",
      human: "Performance Design / Rhythm Control / Final Polish"
    }
  },
  "design": {
    id: "design",
    category: "Pre-production",
    icon: <Gamepad2 className="w-6 h-6" />,
    title: "Game Design / Narrative",
    shortDesc: "AI as the designer's 'Second Brain', not a replacement.",
    headerDesc: "AI-assisted level, narrative, and gameplay design, providing massive 'What if' possibilities.",
    tools: ["Claude 3.5 Sonnet", "GPT-4o", "Ludo.ai", "Scenario", "Obsidian + AI Plugins"],
    flow: [
      "Gameplay & Experience Goals",
      "Variant & System Combo Exploration",
      "Level Pacing & Blockout Drafts",
      "Narrative Structure & Branching",
      "Dialogue / Text / Env Narrative",
      "Playtest Analysis & Iteration"
    ],
    comparison: [
      { dimension: "Brainstorming", trad: "Small meetings + handwritten notes", ai: "AI provides massive combo suggestions, designers refine" },
      { dimension: "Level Blockout", trad: "Manual sketching or engine block-building", ai: "AI proposes layout drafts (pacing/flow) for selection" },
      { dimension: "Narrative Branching", trad: "Manually constructed, limited branches", ai: "AI offers multiple candidate branches, designers pick logical ones" },
      { dimension: "Feedback Analysis", trad: "Reading reports, summarizing by experience", ai: "AI clusters feedback, sentiment analysis, identifying core issues" }
    ],
    roles: {
      ai: "Divergent Creativity / Mass Text Gen / Data Clustering",
      human: "Core Experience Definition / Emotional Impact / Decision Making"
    }
  },
  "audio": {
    id: "audio",
    category: "Production",
    icon: <Music className="w-6 h-6" />,
    title: "Audio AI Pipeline",
    shortDesc: "From placeholder to final assets, rapidly building the 'Sonic World'.",
    headerDesc: "Accelerating the creation of the auditory experience from placeholders to final mix.",
    tools: ["Suno AI", "ElevenLabs", "Coqui TTS", "AudioLDM", "Reaper Scripts"],
    flow: [
      "Audio Direction Setting",
      "BGM / SFX Placeholders",
      "AI BGM Candidate Generation",
      "SFX Search & Combo Suggestions",
      "Voice Placeholders (Multilingual TTS)",
      "Final Production & Mixing"
    ],
    comparison: [
      { dimension: "Placeholders", trad: "Manual search or temporary creation", ai: "AI generates BGM/Ambience drafts, improving early immersion" },
      { dimension: "Asset Search", trad: "Manual tag search & auditioning", ai: "AI recommends asset combos based on scene description" },
      { dimension: "VO Placeholder", trad: "Expensive manual recording", ai: "AI TTS generates rapid multilingual placeholders" },
      { dimension: "Variant Production", trad: "Repetitive parameter tweaking", ai: "AI generates variants, humans select and micro-tune" }
    ],
    roles: {
      ai: "Rapid Placeholders / Variant Gen / Speech Synthesis / Search",
      human: "Audio Aesthetics / Emotional Guidance / Final Mix"
    }
  },
  "qa": {
    id: "qa",
    category: "QA & Launch",
    icon: <Search className="w-6 h-6" />,
    title: "QA AI Pipeline",
    shortDesc: "Let Bots handle the 'grind', let humans handle the judgment.",
    headerDesc: "Using Bots / Agents + NLP to transform testing from 'clicking' to 'intelligent verification'.",
    tools: ["Appium + AI Plugins", "AltUnity", "OpenAI Vision API", "Custom RL Agents", "Jira Auto-Triage"],
    flow: [
      "Test Strategy & Scenario Design",
      "Automated Regression (Bot/Agent)",
      "Bug Data Collection",
      "Bug Clustering & Priority Suggestion",
      "Regression Automation",
      "Reporting & Visualization"
    ],
    comparison: [
      { dimension: "Regression Test", trad: "Testers manually repeat scenarios", ai: "AI Bots run automatically, QA handles complex cases" },
      { dimension: "Bug Triage", trad: "Manual entry, classification, deduplication", ai: "AI automatically clusters and merges duplicates" },
      { dimension: "Visual Checks", trad: "Manual visual inspection", ai: "AI detects UI misalignment, clipping, visual glitches" },
      { dimension: "Coverage", trad: "Limited by time and manpower", ai: "AI Agents can 'farm' the game 24/7" }
    ],
    roles: {
      ai: "Massive Repetitive Testing / Visual Recognition / Log Analysis",
      human: "Strategy Design / Complex Logic Judgment / UX Evaluation"
    }
  },
  "3d_asset": { 
    id: "3d_asset", 
    category: "Production", 
    icon: <Box className="w-6 h-6" />, 
    title: "3D Asset AI Pipeline", 
    shortDesc: "AI for bulk assets, Artists for hero assets.", 
    headerDesc: "From draft models to LODs, streamlining 3D asset production.",
    tools: ["Meshy", "CSM (Common Sense Machines)", "Rodin", "Substance 3D Sampler", "Texture Lab"],
    flow: [
      "Asset Requirement & Classification",
      "Draft / High-poly Generation",
      "Retopo / Cleanup",
      "UV Unwrapping",
      "PBR Material & Texture Gen",
      "LOD & Collision Auto-gen",
      "Engine Import & Verification"
    ], 
    comparison: [
      { dimension: "Drafting", trad: "Manual modeling from scratch", ai: "AI generates draft/high-poly, human reconstructs key parts" },
      { dimension: "Retopo & UV", trad: "Time-consuming technical work", ai: "AI auto-retopo/UV, humans fix hero assets" },
      { dimension: "Materials", trad: "Manual painting or library tweaking", ai: "AI generates unified materials from style libraries" },
      { dimension: "Bulk Assets", trad: "High time and labor cost", ai: "AI batch generation + human spot checks" }
    ], 
    roles: {
      ai: "Drafting / Auto UV & Retopo / Material Gen / Bulk Assets",
      human: "High-poly Sculpting / Topology Optimization / Style Polish / Final Audit"
    } 
  },
  "pv": { 
    id: "pv", 
    category: "Production", 
    icon: <Video className="w-6 h-6" />, 
    title: "PV / Trailer AI Pipeline", 
    shortDesc: "Accelerating the full trailer production pipeline with AI.", 
    headerDesc: "From Pitch to Launch, using AI to speed up the entire video workflow.",
    tools: ["Runway Gen-2/3", "Pika Labs", "Topaz Video AI", "Adobe Premiere AI Features", "Sora (Concept)"],
    flow: [
      "PV Goals & Info Architecture",
      "Script / Voiceover Drafts",
      "Shot List & Storyboard",
      "Previs (Engine + Virtual Cam)",
      "Anim / VFX / Art Fill",
      "Music & SFX",
      "Editing & Multi-version Output"
    ], 
    comparison: [
      { dimension: "Script & VO", trad: "Director writes from scratch, many iterations", ai: "AI offers multi-style scripts/VO drafts for selection" },
      { dimension: "Storyboarding", trad: "Expensive hand-drawing, slow iteration", ai: "AI generates storyboard sketches, rapid lens trial" },
      { dimension: "Previs", trad: "Heavy labor to build scenes/shots", ai: "AI suggests camera paths and rhythm scripts" },
      { dimension: "Multi-version", trad: "Manual cropping for platforms", ai: "AI suggests crop points and ratios per platform" }
    ], 
    roles: {
      ai: "Storyboard Sketches / Previs Scripts / VO Placeholders / Editing Suggestions",
      human: "Direction / Lens Language / Emotional Expression / Final Edit"
    } 
  },
  "localization": { 
    id: "localization", 
    category: "QA & Launch", 
    icon: <Globe className="w-6 h-6" />, 
    title: "Localization AI Pipeline", 
    shortDesc: "Machine Translation + Human Editing.", 
    headerDesc: "Efficient multi-language localization, going beyond simple 'machine translation'.",
    tools: ["DeepL API", "Crowdin AI", "Google Translation Hub", "GPT-4 Fine-tuned", "Speechmatics"],
    flow: [
      "Text Extraction & Classification",
      "Glossary & Style Guide",
      "MT Draft Generation (Multi-lang)",
      "AI Quality Check (Length/Sensitive/Consistency)",
      "Human Review (Key Content)",
      "VO Placeholders & Recording",
      "Update Synchronization"
    ], 
    comparison: [
      { dimension: "Drafting", trad: "100% Manual, long cycle", ai: "AI MT + Human Edit, massive speedup" },
      { dimension: "Consistency", trad: "Translation Memory + Manual Checks", ai: "AI checks terminology and tone consistency" },
      { dimension: "QA", trad: "Manual sampling for grammar/length", ai: "AI scans all text for grammar/length/sensitive terms" },
      { dimension: "Updates", trad: "Manual diffing", ai: "AI detects diffs and alerts for language pack updates" }
    ], 
    roles: {
      ai: "First Draft / Terminology Check / Diff Detection / Grammar Scan",
      human: "Cultural Polish / Context Adjustment / Sensitivity Review"
    } 
  },
  "liveops": { 
    id: "liveops", 
    category: "LiveOps", 
    icon: <Zap className="w-6 h-6" />, 
    title: "LiveOps AI Pipeline", 
    shortDesc: "AI-driven event planning and monitoring.", 
    headerDesc: "Driving event planning, content production, and real-time monitoring with AI.",
    tools: ["Python (Pandas/Scikit-learn)", "Prophet (Time-series)", "Leanplum / Braze AI", "Tableau AI"],
    flow: [
      "Event Goals (Retention/Revenue)",
      "History Analysis & Segmentation",
      "Gameplay & Reward Design",
      "Content Production (Visuals/Push/Audio)",
      "Launch Monitoring & A/B Testing",
      "Review & Strategy Adjustment"
    ], 
    comparison: [
      { dimension: "Strategy", trad: "Experience + Simple Metrics", ai: "AI suggests strategies/timing based on historical data" },
      { dimension: "Copywriting", trad: "Written from scratch every time", ai: "AI drafts multiple versions, human selects best" },
      { dimension: "Visuals", trad: "All manual art production", ai: "AI generates KV sketches / banner drafts" },
      { dimension: "Monitoring", trad: "Manual reports, post-mortem analysis", ai: "AI real-time monitoring, anomaly alerts" }
    ], 
    roles: {
      ai: "Copy Gen / visual Variants / Data Monitoring / Anomaly Alerts",
      human: "Event Planning / Creative Direction / Crisis Mgmt / Strategy Adjustment"
    } 
  },
  "monetization": { 
    id: "monetization", 
    category: "LiveOps", 
    icon: <BarChart className="w-6 h-6" />, 
    title: "Player Modeling & Monetization", 
    shortDesc: "Data-driven but ethical player modeling.", 
    headerDesc: "Moving from 'guesswork' to a data-driven, ethical monetization system.",
    tools: ["TensorFlow / PyTorch", "AWS Personalize", "Unity Analytics", "Custom LTV Models"],
    flow: [
      "Data Collection (Behavior/Retention/Pay)",
      "Player Segmentation",
      "Churn / Return / LTV Prediction",
      "Item / Mode / Event Recommendation",
      "Economy Health Monitoring",
      "Strategy Experiments & A/B"
    ], 
    comparison: [
      { dimension: "Segmentation", trad: "Experience + Few Metrics (Whale/Time)", ai: "AI clusters based on multi-dimensional behavior" },
      { dimension: "Churn Prediction", trad: "Post-mortem 'discovered lost users'", ai: "AI predicts churn risk early, offering retention chances" },
      { dimension: "Offer Design", trad: "Experience/Competitor based", ai: "AI recommends bundles/prices/targets" },
      { dimension: "Economy Monitor", trad: "Analysts build complex reports", ai: "AI detects inflation/sink-source imbalances" }
    ], 
    roles: {
      ai: "Segmentation / Churn Prediction / Rec Sys / Anomaly Detection",
      human: "Business Strategy / Economy Balance / Ethics / Experience Balance"
    } 
  },
  "npc": { 
    id: "npc", 
    category: "Intelligence", 
    icon: <Users className="w-6 h-6" />, 
    title: "NPC / Agent Behavior", 
    shortDesc: "Both opponents and testers.", 
    headerDesc: "Next-gen intelligent NPC behavior systems: Opponents and Testers.",
    tools: ["Inworld AI", "Convai", "Kythera AI", "Unreal Behavior Trees + LLM", "Semantic Kernel"],
    flow: [
      "NPC Goals (Personality/Difficulty)",
      "Behavior Framework (BT / GOAP / Hybrid)",
      "Data Collection & Sample Def",
      "Model Training or Behavior Combo",
      "Visual Debugging Tools",
      "Player Experience Test & Adjust",
      "Online Updates & Versioning"
    ], 
    comparison: [
      { dimension: "Behavior Design", trad: "Hand-coded BTs/State Machines", ai: "AI suggests behavior combos, humans constrain" },
      { dimension: "Difficulty", trad: "Manual tuning, relies on feel", ai: "AI dynamically adjusts parameters based on player" },
      { dimension: "Testing", trad: "QA vs NPC, limited coverage", ai: "Trained Agents auto-play to test levels" }
    ], 
    roles: {
      ai: "Behavior Suggestions / Dynamic Difficulty / Auto-test Agents",
      human: "Personality Crafting / Behavior Constraints / Level Experience"
    } 
  },
  "proc_gen": { 
    id: "proc_gen", 
    category: "Intelligence", 
    icon: <Layers className="w-6 h-6" />, 
    title: "Procedural Generation × AI", 
    shortDesc: "Rules + Deep Learning to generate worlds.", 
    headerDesc: "Combining Rules and Deep Learning to generate 'Playable Worlds'.",
    tools: ["Unreal PCG Framework", "Wave Function Collapse", "Houdini + AI Plugins", "ChatGPT (Rule Generation)"],
    flow: [
      "Generation Goals (Map/City/Eco)",
      "Procedural Rules Setup (PG Base)",
      "AI Style/Detail Layer Generation",
      "Playability Testing (Path/Pacing)",
      "Visual & Performance Optimization",
      "Templating & Reuse"
    ], 
    comparison: [
      { dimension: "Control", trad: "Strong rules, unified but 'mechanical' style", ai: "AI adds style/detail variation and 'flavor'" },
      { dimension: "Iteration", trad: "Code change needed for rule tweaks", ai: "AI suggests parameters based on goals (pacing/difficulty)" },
      { dimension: "Playability", trad: "Manual walkthroughs", ai: "AI Agents auto-run, stats on paths/dead-ends" }
    ], 
    roles: {
      ai: "Stylization / Detail Fill / Playability Agents",
      human: "Rule Definition / Core Gameplay / Aesthetic Control"
    } 
  },
  "tools": { 
    id: "tools", 
    category: "QA & Launch", 
    icon: <Code className="w-6 h-6" />, 
    title: "Tools / Engine / Code", 
    shortDesc: "Supercharging the engine team.", 
    headerDesc: "Giving the engine and engineering teams 'superpowers' with AI.",
    tools: ["GitHub Copilot", "Cursor", "Tabnine", "Unreal Python API", "ChatGPT/Claude"],
    flow: [
      "Tool/Script Requirements",
      "Code / Blueprint Template Gen",
      "Auto-Documentation & Examples",
      "Unit Tests / Static Analysis",
      "Editor Batch Tools",
      "Performance Diagnostics & Tips"
    ], 
    comparison: [
      { dimension: "Scripting", trad: "Engineers write from scratch", ai: "Reqs → AI Draft → Engineer Review" },
      { dimension: "Docs", trad: "Often missing or outdated", ai: "AI auto-gens docs and usage examples from code" },
      { dimension: "Testing", trad: "Unit tests often incomplete", ai: "AI drafts unit tests, humans add complex cases" },
      { dimension: "Editor Tools", trad: "Requires engineer schedule", ai: "AI helps gen simple batch tools" }
    ], 
    roles: {
      ai: "Code Completion / Doc Gen / Boilerplate / Simple Tools",
      human: "Architecture / Complex Logic / Code Review / Integration"
    } 
  },
  "research": { 
    id: "research", 
    category: "Intelligence", 
    icon: <Brain className="w-6 h-6" />, 
    title: "AI Research & Tech", 
    shortDesc: "From Paper to Pipeline.", 
    headerDesc: "The assessment loop: From 'New Model' to 'Is it Production Ready?'.",
    tools: ["Hugging Face", "arXiv", "Papers with Code", "Weights & Biases", "LangChain"],
    flow: [
      "Tech Radar & Info Gathering",
      "Alignment with Project/Pipeline",
      "PoC / Micro-experiments",
      "Effect / Cost / Risk Assessment",
      "Small-scale Pilot (Single Project)",
      "Documentation & Internal Share",
      "Decision: Productize / Wait / Drop"
    ], 
    comparison: [
      { dimension: "Decision", trad: "Interest-based, lack of unified metrics", ai: "Clear metrics (Effect/Cost/Risk/Fit)" },
      { dimension: "Communication", trad: "Scattered sharing / Verbal", ai: "Standardized PoC Reports + Sharing" },
      { dimension: "Outcome", trad: "Often stays as Demo/Toy", ai: "Successful tech enters formal Pipeline" }
    ], 
    roles: {
      ai: "Paper Summaries / Competitor Analysis / Demo Code Support",
      human: "Tech Eval / Adoption Decision / Risk Control / Collaboration"
    } 
  },
};

/* --- MOCK DATA FOR NEW PAGES --- */

const LAB_EXPERIMENTS = [
  {
    id: 1,
    title: "Project A: Style Consistency Verification",
    category: "Art Pipeline",
    problem: "Assets generated by base SD models suffer from severe style drift, unusable for production.",
    method: "Training project-specific LoRA models + ControlNet (Canny/Depth) for structural constraints.",
    conclusion: "LoRA locks 80% of style features; ControlNet ensures accurate silhouettes. Need to establish a Standard LoRA Library.",
    impact: "Art Pipeline concept iteration efficiency increased by 40%, reducing manual over-painting time."
  },
  {
    id: 2,
    title: "Project B: Intelligent NPC Behavior Tree Gen (LLM to BT)",
    category: "NPC AI",
    problem: "Traditional Behavior Trees are complex to write, high barrier for designers, slow iteration.",
    method: "Using LLM to parse natural language requirements and map them to Behavior Tree node structures (JSON).",
    conclusion: "90% accuracy for simple logic; complex logic requires manual intervention for Preconditions.",
    impact: "NPC AI prototyping reduced to minutes, lowering technical barrier for designers."
  },
  {
    id: 3,
    title: "Project C: Automated Regression Agent",
    category: "QA Pipeline",
    problem: "Smoke testing after every build consumes massive manpower on repetitive tasks.",
    method: "Reinforcement Learning Agent based on Computer Vision (CV) to traverse UI and run levels.",
    conclusion: "Covers 95% of UI interaction paths, but still has false positives with unexpected pop-ups.",
    impact: "Freed up 2 QA staff members to focus on complex Gameplay testing."
  }
];

const ARTICLES_LIST = [
  {
    id: 1,
    title: "AI Won't Replace Artists, But It Will Reshape Workflows",
    date: "2023-10-15",
    summary: "Exploring the shift from 'Drawing' to 'Reviewing & Refining', and the new definition of Art Directors in the AI era. Future artists are not just creators, but AI trainers and curators.",
    tags: ["Art", "Opinion", "Future of Work"]
  },
  {
    id: 2,
    title: "Data-Driven Level Design: AI Assisted Balancing",
    date: "2023-11-02",
    summary: "Using RL Agents to playtest levels, automatically reverse-engineering numerical configs via heatmaps and death rates. Balancing no longer relies solely on intuition and spreadsheets.",
    tags: ["Design", "Tech", "Balance"]
  },
  {
    id: 3,
    title: "From Prompt to Pipeline: Engineering is Key",
    date: "2023-12-10",
    summary: "Why do most AI Demos fail to enter production? Discussing API stability, data security, version control, and workflow integration challenges.",
    tags: ["Engineering", "Pipeline", "DevOps"]
  },
  {
    id: 4,
    title: "Generative Narrative: Making NPCs Truly 'Alive'",
    date: "2024-01-20",
    summary: "Combining Inworld AI with local LLMs to build dynamic NPC systems with long-term memory and emotional states. How far are we from Westworld?",
    tags: ["Narrative", "NPC", "AI"]
  }
];

const TOOLBOX_CATEGORIES = [
  {
    title: "Generative",
    desc: "Creating content from 0 to 1",
    icon: <Zap className="w-5 h-5" />,
    items: ["Text-to-Image (SD, MJ)", "Text-to-3D Mesh", "Text-to-Audio/Music", "LLM Story Generation", "Voice Synthesis"]
  },
  {
    title: "Editing",
    desc: "Modifying and enhancing existing assets",
    icon: <Wrench className="w-5 h-5" />,
    items: ["In-painting / Out-painting", "Texture Upscaling", "Motion Capture Clean-up", "Video Style Transfer", "Voice Conversion"]
  },
  {
    title: "Management",
    desc: "Asset and workflow orchestration",
    icon: <Database className="w-5 h-5" />,
    items: ["AI Tagging & Classification", "Asset Search (Semantic)", "Version Control for Prompts", "Task Auto-Assignment"]
  },
  {
    title: "Analysis",
    desc: "Data insights and feedback loop",
    icon: <BarChart className="w-5 h-5" />,
    items: ["Player Sentiment Analysis", "Churn Prediction Models", "Playtest Heatmap Gen", "QA Bug Clustering"]
  },
  {
    title: "Integration (Engine & DCC)",
    desc: "Production environment integration",
    icon: <Code className="w-5 h-5" />,
    items: ["Unreal Engine AI Plugins", "Unity Sentis", "Blender AI Add-ons", "Photoshop Neural Filters"]
  }
];

/* --- COMPONENTS --- */

// 1. Particle Background Component
const ParticleBackground = () => {
  const canvasRef = useRef(null);

  useEffect(() => {
    const canvas = canvasRef.current;
    const ctx = canvas.getContext('2d');
    let animationFrameId;
    
    // Set canvas size
    const handleResize = () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    };
    window.addEventListener('resize', handleResize);
    handleResize();

    // Particles
    const particlesArray = [];
    const numberOfParticles = 80;

    class Particle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 2 + 1;
        this.speedX = Math.random() * 1 - 0.5;
        this.speedY = Math.random() * 1 - 0.5;
      }
      update() {
        this.x += this.speedX;
        this.y += this.speedY;
        if (this.x > canvas.width || this.x < 0) this.speedX = -this.speedX;
        if (this.y > canvas.height || this.y < 0) this.speedY = -this.speedY;
      }
      draw() {
        ctx.fillStyle = 'rgba(100, 200, 255, 0.5)';
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    const init = () => {
      for (let i = 0; i < numberOfParticles; i++) {
        particlesArray.push(new Particle());
      }
    };

    const animate = () => {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let i = 0; i < particlesArray.length; i++) {
        particlesArray[i].update();
        particlesArray[i].draw();
        
        // Connect particles
        for (let j = i; j < particlesArray.length; j++) {
          const dx = particlesArray[i].x - particlesArray[j].x;
          const dy = particlesArray[i].y - particlesArray[j].y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          if (distance < 100) {
            ctx.beginPath();
            ctx.strokeStyle = `rgba(100, 200, 255, ${0.1 - distance/1000})`;
            ctx.lineWidth = 1;
            ctx.moveTo(particlesArray[i].x, particlesArray[i].y);
            ctx.lineTo(particlesArray[j].x, particlesArray[j].y);
            ctx.stroke();
          }
        }
      }
      animationFrameId = requestAnimationFrame(animate);
    };

    init();
    animate();

    return () => {
      window.removeEventListener('resize', handleResize);
      cancelAnimationFrame(animationFrameId);
    };
  }, []);

  return <canvas ref={canvasRef} className="absolute top-0 left-0 w-full h-full -z-10 opacity-40 pointer-events-none" />;
};

// 2. Navigation
const NavBar = ({ setPage, currentPage }) => {
  const [isOpen, setIsOpen] = useState(false);
  const links = [
    { id: 'home', label: 'Home' },
    { id: 'about', label: 'About' },
    { id: 'pipelines', label: 'Pipelines' },
    { id: 'lab', label: 'Lab' },
    { id: 'articles', label: 'Articles' },
    { id: 'toolbox', label: 'Toolbox' },
    // Contact removed
  ];

  return (
    <nav className="fixed top-0 w-full z-50 bg-slate-900/90 backdrop-blur-md border-b border-slate-700">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex items-center justify-between h-16">
          <div className="flex items-center cursor-pointer" onClick={() => setPage('home')}>
            <Brain className="h-8 w-8 text-cyan-400" />
            <span className="ml-2 text-xl font-bold text-white tracking-wider">AI Gameworks</span>
          </div>
          <div className="hidden md:block">
            <div className="ml-10 flex items-baseline space-x-4">
              {links.map((link) => (
                <button
                  key={link.id}
                  onClick={() => setPage(link.id)}
                  className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${
                    currentPage === link.id 
                      ? 'text-cyan-400 bg-slate-800' 
                      : 'text-slate-300 hover:text-white hover:bg-slate-700'
                  }`}
                >
                  {link.label}
                </button>
              ))}
            </div>
          </div>
          <div className="-mr-2 flex md:hidden">
            <button onClick={() => setIsOpen(!isOpen)} className="text-slate-300 hover:text-white p-2">
              {isOpen ? <X className="h-6 w-6" /> : <Menu className="h-6 w-6" />}
            </button>
          </div>
        </div>
      </div>
      {/* Mobile Menu */}
      {isOpen && (
        <div className="md:hidden bg-slate-800 border-b border-slate-700">
          <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
            {links.map((link) => (
              <button
                key={link.id}
                onClick={() => { setPage(link.id); setIsOpen(false); }}
                className="block w-full text-left px-3 py-2 rounded-md text-base font-medium text-slate-300 hover:text-white hover:bg-slate-700"
              >
                {link.label}
              </button>
            ))}
          </div>
        </div>
      )}
    </nav>
  );
};

// 3. Page: Home
const Home = ({ setPage, setPipeline }) => {
  return (
    <div className="relative pt-16 min-h-screen flex flex-col">
      <ParticleBackground />
      
      {/* Hero Section */}
      <div className="flex-1 flex flex-col justify-center items-center px-4 text-center mt-20 mb-20">
        <div className="inline-block p-2 px-4 rounded-full bg-cyan-900/30 border border-cyan-500/30 text-cyan-400 text-sm font-semibold mb-6 tracking-wide animate-fade-in-up">
          PRODUCER · AI PRACTITIONER · PROJECT MANAGER
        </div>
        <h1 className="text-5xl md:text-7xl font-extrabold text-white mb-6 tracking-tight animate-fade-in-up delay-100">
          AI Gameworks<br />
          <span className="text-2xl md:text-3xl font-light text-cyan-400 block mt-4">— by Andrew Zhang</span>
        </h1>
        <p className="max-w-2xl text-xl text-slate-400 mb-10 animate-fade-in-up delay-200">
          Focusing on revolutionizing game production with AI —<br/>
          From Art, Animation to Level Design, Narrative, Audio, QA, LiveOps & Monetization.
        </p>
        <div className="flex flex-col sm:flex-row gap-4 animate-fade-in-up delay-300">
          <button 
            onClick={() => setPage('pipelines')}
            className="px-8 py-3 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg font-semibold transition-all shadow-lg shadow-cyan-500/20 flex items-center justify-center gap-2"
          >
            <Layers className="w-5 h-5" /> View Pipelines
          </button>
          <button 
            onClick={() => setPage('lab')}
            className="px-8 py-3 bg-slate-800 hover:bg-slate-700 border border-slate-600 text-white rounded-lg font-semibold transition-all flex items-center justify-center gap-2"
          >
            <FlaskConical className="w-5 h-5" /> Enter Lab
          </button>
        </div>
      </div>

      {/* Feature Cards */}
      <div className="bg-slate-900/80 backdrop-blur border-t border-slate-800 py-20">
        <div className="max-w-7xl mx-auto px-4">
          <h2 className="text-2xl font-bold text-white mb-8 text-center">Featured Pipelines</h2>
          <div className="grid md:grid-cols-3 gap-6">
             {['art', 'qa', 'animation'].map(key => {
               const p = PIPELINES_DATA[key];
               return (
                 <div key={key} className="bg-slate-800 border border-slate-700 p-6 rounded-xl hover:border-cyan-500/50 transition-colors group cursor-pointer"
                      onClick={() => { setPipeline(key); setPage('pipeline-detail'); }}>
                   <div className="w-12 h-12 bg-slate-700 rounded-lg flex items-center justify-center text-cyan-400 mb-4 group-hover:scale-110 transition-transform">
                     {p.icon}
                   </div>
                   <h3 className="text-xl font-bold text-white mb-2">{p.title}</h3>
                   <p className="text-slate-400 text-sm mb-4 h-10">{p.shortDesc}</p>
                   <div className="flex items-center text-cyan-400 text-sm font-medium group-hover:underline">
                     Explore Pipeline <ArrowRight className="w-4 h-4 ml-1" />
                   </div>
                 </div>
               );
             })}
          </div>
        </div>
      </div>
    </div>
  );
};

// 4. Page: About (Updated with Contact)
const About = () => {
  return (
    <div className="pt-24 pb-20 max-w-4xl mx-auto px-4">
      <div className="text-center mb-16">
        <div className="w-32 h-32 bg-gradient-to-br from-cyan-500 to-violet-600 rounded-full mx-auto mb-6 flex items-center justify-center text-4xl font-bold text-white shadow-2xl">
           ME
        </div>
        <h2 className="text-3xl font-bold text-white mb-4">About Me</h2>
        <p className="text-slate-400 max-w-2xl mx-auto text-lg leading-relaxed">
          A Game Producer and AI Practitioner passionate about exploring the frontiers of technology.
          I don't just care about "what AI can generate", but "how AI reshapes the game industrial pipeline".
        </p>
      </div>

      {/* Tags */}
      <div className="flex flex-wrap justify-center gap-3 mb-16">
        {['Producer', 'Project Manager', 'Tech Ops', 'Business Dev', 'AI Researcher'].map(tag => (
          <span key={tag} className="px-4 py-1.5 rounded-full bg-slate-800 border border-slate-700 text-slate-300 text-sm font-medium">
            {tag}
          </span>
        ))}
      </div>

      {/* Why Lab */}
      <div className="bg-slate-800/50 border border-slate-700 rounded-2xl p-8 mb-12">
        <h3 className="text-xl font-bold text-white mb-4 flex items-center gap-2">
          <Brain className="text-cyan-400" /> Why AI Gameworks?
        </h3>
        <p className="text-slate-400 leading-relaxed mb-4">
          The game industry is undergoing an unprecedented productivity revolution. Traditional pipelines are becoming increasingly cumbersome in the face of growing content demands.
        </p>
        <p className="text-slate-400 leading-relaxed">
          I built this lab to deconstruct every link in game production and re-examine it through the lens of AI:
          What can be automated? What can be enhanced? What new gameplay can be born?
          This is not just about efficiency, but about unleashing the creativity of developers.
        </p>
      </div>

      {/* Timeline */}
      <div className="mb-20">
        <h3 className="text-xl font-bold text-white mb-6">Experience Path</h3>
        <div className="border-l-2 border-slate-700 ml-3 space-y-8">
          {[
            { year: 'Present', role: 'AI Pipeline Specialist', desc: 'Focusing on AI implementation research and consulting for the full game lifecycle.' },
            { year: '2021-2023', role: 'Senior Game Producer', desc: 'Responsible for pipeline construction and agile management for large-scale RPG projects.' },
            { year: '2018-2021', role: 'Tech Operations / PM', desc: 'Optimized art outsourcing workflows and engine toolchain support.' },
          ].map((item, idx) => (
            <div key={idx} className="relative pl-8">
              <div className="absolute -left-[9px] top-0 w-4 h-4 bg-cyan-500 rounded-full border-4 border-slate-900"></div>
              <span className="text-sm text-cyan-400 font-mono mb-1 block">{item.year}</span>
              <h4 className="text-lg font-semibold text-white">{item.role}</h4>
              <p className="text-slate-400 text-sm mt-1">{item.desc}</p>
            </div>
          ))}
        </div>
      </div>

      {/* Contact Section (Merged) */}
      <div className="border-t border-slate-700 pt-16">
        <div className="text-center mb-12">
          <div className="w-16 h-16 bg-slate-800 rounded-full mx-auto mb-6 flex items-center justify-center text-cyan-400 shadow-xl border border-slate-700">
            <MessageSquare className="w-8 h-8" />
          </div>
          <h2 className="text-3xl font-bold text-white mb-4">Let's Connect</h2>
          <p className="text-slate-400 max-w-xl mx-auto mb-8">
            I'm always open to connecting with peers. Whether you're interested in AI Pipeline Design, internal knowledge sharing, or collaborative experiments, feel free to reach out.
          </p>
          
          <div className="flex flex-col sm:flex-row justify-center gap-4 mb-12">
             <a href="#" className="flex items-center justify-center gap-3 px-6 py-3 bg-cyan-600 hover:bg-cyan-500 text-white rounded-xl font-semibold transition-all shadow-lg shadow-cyan-500/20">
               <Mail className="w-5 h-5" /> Email Me
             </a>
             <a href="#" className="flex items-center justify-center gap-3 px-6 py-3 bg-slate-800 hover:bg-slate-700 border border-slate-600 text-white rounded-xl font-semibold transition-all">
               <Linkedin className="w-5 h-5" /> LinkedIn
             </a>
          </div>
        </div>

        <div className="grid md:grid-cols-3 gap-6 text-center">
          <div className="p-5 bg-slate-800/50 rounded-xl border border-slate-700/50 hover:border-cyan-500/30 transition-colors">
            <h3 className="text-white font-bold mb-2">AI Pipeline Design</h3>
            <p className="text-slate-500 text-sm">Consulting & Architecture</p>
          </div>
          <div className="p-5 bg-slate-800/50 rounded-xl border border-slate-700/50 hover:border-cyan-500/30 transition-colors">
            <h3 className="text-white font-bold mb-2">Knowledge Sharing</h3>
            <p className="text-slate-500 text-sm">Seminars & Workshops</p>
          </div>
          <div className="p-5 bg-slate-800/50 rounded-xl border border-slate-700/50 hover:border-cyan-500/30 transition-colors">
            <h3 className="text-white font-bold mb-2">Collaboration</h3>
            <p className="text-slate-500 text-sm">Joint Experiments & PoC</p>
          </div>
        </div>
      </div>
    </div>
  );
};

// 5. Page: Pipelines Overview
const PipelinesOverview = ({ setPage, setPipeline }) => {
  const phases = [
    { 
      name: "Pre-production", 
      desc: "Ideation & Validation",
      items: ["design"] 
    },
    { 
      name: "Production", 
      desc: "Mass Production & Integration",
      items: ["art", "animation", "audio", "3d_asset", "pv"] 
    },
    { 
      name: "QA & Launch", 
      desc: "Quality Assurance & Release",
      items: ["qa", "localization", "tools"] 
    },
    { 
      name: "LiveOps & Business", 
      desc: "Operations & Monetization",
      items: ["liveops", "monetization"] 
    },
    { 
      name: "Intelligence & Future", 
      desc: "Advanced AI & NPC",
      items: ["npc", "proc_gen", "research"] 
    }
  ];

  return (
    <div className="pt-24 pb-20 max-w-7xl mx-auto px-4">
      <div className="mb-12">
        <h2 className="text-3xl font-bold text-white mb-4">AI Gameworks Pipelines Map</h2>
        <p className="text-slate-400 max-w-3xl text-lg">
          My thoughts and practices on the AI pipeline for the entire game lifecycle, covering everything from early concepts to production, testing, launch, and live operations.
        </p>
      </div>

      <div className="space-y-12">
        {phases.map((phase, idx) => (
          <div key={idx} className="relative">
            <div className="flex items-center gap-4 mb-6">
              <div className="h-px bg-slate-700 flex-1"></div>
              <h3 className="text-xl font-bold text-cyan-400 uppercase tracking-wider">{phase.name}</h3>
              <div className="h-px bg-slate-700 flex-1"></div>
            </div>
            
            <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
              {phase.items.map(key => {
                const item = PIPELINES_DATA[key];
                return (
                  <div 
                    key={key} 
                    onClick={() => { setPipeline(key); setPage('pipeline-detail'); }}
                    className="bg-slate-800 hover:bg-slate-750 border border-slate-700 hover:border-cyan-500 transition-all p-6 rounded-xl cursor-pointer group"
                  >
                    <div className="flex items-start justify-between mb-4">
                      <div className="p-3 bg-slate-900 rounded-lg text-cyan-400 group-hover:text-white transition-colors">
                        {item.icon}
                      </div>
                      <span className="text-xs font-mono text-slate-500 uppercase">{item.id.replace('_', ' ')}</span>
                    </div>
                    <h4 className="text-lg font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors">{item.title}</h4>
                    <p className="text-slate-400 text-sm leading-relaxed mb-4">{item.shortDesc}</p>
                    <div className="flex items-center text-xs font-semibold text-slate-500 uppercase tracking-wide group-hover:text-cyan-500 transition-colors">
                      View Pipeline <ChevronRight className="w-3 h-3 ml-1" />
                    </div>
                  </div>
                );
              })}
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

// 6. Page: Pipeline Detail (Template)
const PipelineDetail = ({ pipelineId, goBack }) => {
  const data = PIPELINES_DATA[pipelineId];

  // Fallback if data is missing (or generic placeholder)
  if (!data.flow || data.flow.length === 0) {
    return (
      <div className="pt-24 pb-20 max-w-4xl mx-auto px-4 text-center">
        <button onClick={goBack} className="text-cyan-400 hover:text-white flex items-center gap-2 mb-8 mx-auto">
          <ArrowRight className="w-4 h-4 rotate-180" /> Back to Overview
        </button>
        <div className="bg-slate-800 p-12 rounded-2xl border border-slate-700">
          <div className="text-6xl mb-6 mx-auto w-fit text-slate-600">{data.icon}</div>
          <h2 className="text-3xl font-bold text-white mb-4">{data.title}</h2>
          <p className="text-slate-400 mb-8">This pipeline documentation is currently being compiled.</p>
          <div className="text-sm text-slate-500 font-mono bg-slate-900 p-4 rounded inline-block">
            Status: WIP / Content Coming Soon
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="pt-24 pb-20 max-w-5xl mx-auto px-4">
      {/* Back Nav */}
      <button onClick={goBack} className="text-slate-400 hover:text-white flex items-center gap-2 mb-8 transition-colors">
        <ArrowRight className="w-4 h-4 rotate-180" /> Back to Overview
      </button>

      {/* Header */}
      <div className="mb-16">
        <div className="flex items-center gap-3 text-cyan-400 mb-4">
          {data.icon}
          <span className="font-mono text-sm font-bold uppercase tracking-wider">{data.category} Pipeline</span>
        </div>
        <h1 className="text-4xl md:text-5xl font-extrabold text-white mb-6">{data.title}</h1>
        <p className="text-xl text-slate-300 leading-relaxed border-l-4 border-cyan-500 pl-6">
          {data.headerDesc}
        </p>
      </div>

      {/* Tech Stack Section (NEW) */}
      <div className="mb-16 animate-fade-in-up">
        <h3 className="text-2xl font-bold text-white mb-6 flex items-center gap-2">
          <Database className="text-cyan-400" /> Recommended AI Tech Stack
        </h3>
        <div className="flex flex-wrap gap-3">
          {data.tools && data.tools.map((tool, idx) => (
            <span key={idx} className="px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-cyan-300 font-mono text-sm hover:border-cyan-500 transition-colors flex items-center gap-2">
              <Cpu className="w-3 h-3 opacity-70" /> {tool}
            </span>
          ))}
          {(!data.tools || data.tools.length === 0) && (
            <span className="text-slate-500 italic">No specific tools listed yet.</span>
          )}
        </div>
      </div>

      {/* Flow Chart */}
      <div className="mb-16">
        <h3 className="text-2xl font-bold text-white mb-8 flex items-center gap-2">
          <Activity className="text-cyan-400" /> Workflow
        </h3>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
          {data.flow.map((step, idx) => (
            <div key={idx} className="relative">
              <div className="bg-slate-800 border border-slate-700 p-5 rounded-lg h-full hover:border-cyan-500/50 transition-colors">
                <span className="absolute top-4 right-4 text-slate-600 font-bold text-4xl opacity-20">{idx + 1}</span>
                <p className="text-white font-medium relative z-10">{step}</p>
              </div>
              {/* Arrow connector for desktop */}
              {idx < data.flow.length - 1 && (
                <div className="hidden lg:block absolute top-1/2 -right-3 transform -translate-y-1/2 z-20 text-slate-600">
                  <ChevronRight className="w-6 h-6" />
                </div>
              )}
            </div>
          ))}
        </div>
      </div>

      {/* Comparison Table */}
      <div className="mb-16">
        <h3 className="text-2xl font-bold text-white mb-8 flex items-center gap-2">
          <Zap className="text-violet-400" /> Traditional vs. AI Enhanced
        </h3>
        <div className="overflow-x-auto rounded-xl border border-slate-700">
          <table className="w-full text-left border-collapse">
            <thead>
              <tr className="bg-slate-900 border-b border-slate-700">
                <th className="p-4 text-slate-400 font-semibold w-1/4">Dimension</th>
                <th className="p-4 text-slate-400 font-semibold w-1/3">Traditional Pipeline</th>
                <th className="p-4 text-cyan-400 font-semibold w-1/3 bg-cyan-900/10">AI Enhanced Pipeline</th>
              </tr>
            </thead>
            <tbody className="divide-y divide-slate-700 bg-slate-800">
              {data.comparison.map((row, idx) => (
                <tr key={idx} className="hover:bg-slate-750 transition-colors">
                  <td className="p-4 text-white font-medium">{row.dimension}</td>
                  <td className="p-4 text-slate-300 text-sm">{row.trad}</td>
                  <td className="p-4 text-white text-sm bg-cyan-900/5 border-l border-slate-700/50">{row.ai}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>

      {/* Roles Summary */}
      <div className="grid md:grid-cols-2 gap-8 mb-16">
        <div className="bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700 p-8 rounded-xl">
          <h4 className="text-lg font-bold text-cyan-400 mb-4 flex items-center gap-2">
             <Brain className="w-5 h-5" /> AI's Role
          </h4>
          <p className="text-slate-300 leading-relaxed">{data.roles.ai}</p>
        </div>
        <div className="bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700 p-8 rounded-xl">
          <h4 className="text-lg font-bold text-violet-400 mb-4 flex items-center gap-2">
             <Users className="w-5 h-5" /> Human's Role
          </h4>
          <p className="text-slate-300 leading-relaxed">{data.roles.human}</p>
        </div>
      </div>
    </div>
  );
};

/* --- NEW PAGE COMPONENTS --- */

// 7. Page: Lab
const Lab = () => {
  return (
    <div className="pt-24 pb-20 max-w-5xl mx-auto px-4">
      <div className="mb-12">
        <h2 className="text-4xl font-bold text-white mb-4 flex items-center gap-3">
          <FlaskConical className="text-cyan-400 w-8 h-8" /> The Lab
        </h2>
        <p className="text-slate-400 text-lg max-w-2xl">
          This archive contains Proof of Concept (PoC) experiments for specific production issues.
          Each experiment follows the standard "Problem - Methodology - Conclusion - Impact" framework.
        </p>
      </div>

      <div className="space-y-8">
        {LAB_EXPERIMENTS.map((exp) => (
          <div key={exp.id} className="bg-slate-800 border border-slate-700 rounded-2xl p-8 hover:border-cyan-500/30 transition-all">
            <div className="flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4">
              <div>
                <div className="text-cyan-400 text-sm font-bold uppercase tracking-wider mb-1">{exp.category}</div>
                <h3 className="text-2xl font-bold text-white">{exp.title}</h3>
              </div>
              <div className="px-4 py-2 bg-slate-900 rounded-lg border border-slate-700 text-slate-400 text-sm font-mono">
                Experiment #{exp.id}
              </div>
            </div>

            <div className="grid md:grid-cols-2 gap-8">
              <div className="space-y-6">
                <div>
                  <h4 className="text-sm text-slate-500 uppercase font-bold mb-2">Problem Statement</h4>
                  <p className="text-slate-300 leading-relaxed">{exp.problem}</p>
                </div>
                <div>
                  <h4 className="text-sm text-slate-500 uppercase font-bold mb-2">Methodology</h4>
                  <p className="text-slate-300 leading-relaxed">{exp.method}</p>
                </div>
              </div>
              <div className="space-y-6">
                <div className="bg-cyan-900/10 border-l-2 border-cyan-500 pl-4 py-2">
                  <h4 className="text-sm text-cyan-400 uppercase font-bold mb-2">Conclusion</h4>
                  <p className="text-slate-200 leading-relaxed">{exp.conclusion}</p>
                </div>
                <div className="bg-violet-900/10 border-l-2 border-violet-500 pl-4 py-2">
                  <h4 className="text-sm text-violet-400 uppercase font-bold mb-2">Pipeline Impact</h4>
                  <p className="text-slate-200 leading-relaxed">{exp.impact}</p>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

// 8. Page: Articles
const Articles = () => {
  return (
    <div className="pt-24 pb-20 max-w-4xl mx-auto px-4">
      <div className="mb-12">
        <h2 className="text-4xl font-bold text-white mb-4 flex items-center gap-3">
          <FileText className="text-cyan-400 w-8 h-8" /> Articles
        </h2>
        <p className="text-slate-400 text-lg">
          My thoughts, essays, and deep dives into AI + Game Business / Production.
        </p>
      </div>

      <div className="grid gap-6">
        {ARTICLES_LIST.map((article) => (
          <div key={article.id} className="bg-slate-800 border border-slate-700 p-6 rounded-xl hover:bg-slate-750 transition-colors cursor-pointer group">
            <div className="flex flex-col md:flex-row md:items-center justify-between mb-4 gap-2">
              <div className="flex gap-2">
                {article.tags.map(tag => (
                  <span key={tag} className="px-2 py-1 bg-slate-900 text-slate-400 text-xs rounded border border-slate-700">
                    {tag}
                  </span>
                ))}
              </div>
              <span className="text-slate-500 text-sm font-mono">{article.date}</span>
            </div>
            <h3 className="text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors">
              {article.title}
            </h3>
            <p className="text-slate-400 leading-relaxed">
              {article.summary}
            </p>
            <div className="mt-4 flex items-center text-cyan-500 text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity">
              Read Article <ArrowRight className="w-4 h-4 ml-1" />
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

// 9. Page: Toolbox
const Toolbox = () => {
  return (
    <div className="pt-24 pb-20 max-w-6xl mx-auto px-4">
      <div className="mb-12">
        <h2 className="text-4xl font-bold text-white mb-4 flex items-center gap-3">
          <Wrench className="text-cyan-400 w-8 h-8" /> AI Toolbox
        </h2>
        <p className="text-slate-400 text-lg">
          My AI game development tech stack, categorized by function.
        </p>
      </div>

      <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {TOOLBOX_CATEGORIES.map((cat, idx) => (
          <div key={idx} className="bg-slate-800 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-colors">
            <div className="flex items-center gap-3 mb-4 text-cyan-400">
              <div className="p-2 bg-slate-900 rounded-lg">
                {cat.icon}
              </div>
              <h3 className="font-bold text-white text-lg">{cat.title}</h3>
            </div>
            <p className="text-slate-500 text-sm mb-6 h-10">{cat.desc}</p>
            <ul className="space-y-3">
              {cat.items.map((item, i) => (
                <li key={i} className="flex items-center text-slate-300 text-sm bg-slate-900/50 px-3 py-2 rounded border border-slate-700/50">
                  <Tag className="w-3 h-3 mr-2 text-cyan-500/50" />
                  {item}
                </li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    </div>
  );
};

// 10. Contact Page (Removed/Deprecated - Integrated into About)

// 11. Simple Footer
const Footer = () => (
  <footer className="bg-slate-900 border-t border-slate-800 py-12">
    <div className="max-w-7xl mx-auto px-4 text-center">
      <div className="flex justify-center gap-6 mb-8 text-slate-400">
        <Mail className="w-6 h-6 hover:text-white cursor-pointer transition-colors" />
        <Linkedin className="w-6 h-6 hover:text-white cursor-pointer transition-colors" />
        <Twitter className="w-6 h-6 hover:text-white cursor-pointer transition-colors" />
      </div>
      <p className="text-slate-500 text-sm">
        © 2024 AI Gameworks. All rights reserved.<br/>
        Exploring the future of game development.
      </p>
    </div>
  </footer>
);

// 12. Placeholder for other pages
const PlaceholderPage = ({ title }) => (
  <div className="pt-32 pb-20 text-center min-h-screen">
    <h2 className="text-4xl font-bold text-white mb-4">{title}</h2>
    <p className="text-slate-400">This section is currently under construction.</p>
  </div>
);

/* --- MAIN APP --- */

const App = () => {
  // Simple router state
  const [currentPage, setCurrentPage] = useState('home');
  const [currentPipeline, setCurrentPipeline] = useState(null);

  // Scroll to top on page change
  useEffect(() => {
    window.scrollTo(0, 0);
  }, [currentPage]);

  const renderContent = () => {
    switch (currentPage) {
      case 'home':
        return <Home setPage={setCurrentPage} setPipeline={setCurrentPipeline} />;
      case 'about':
        return <About />;
      case 'pipelines':
        return <PipelinesOverview setPage={setCurrentPage} setPipeline={setCurrentPipeline} />;
      case 'pipeline-detail':
        return (
          <PipelineDetail 
            pipelineId={currentPipeline} 
            goBack={() => setCurrentPage('pipelines')} 
          />
        );
      case 'lab':
        return <Lab />;
      case 'articles':
        return <Articles />;
      case 'toolbox':
        return <Toolbox />;
      // case 'contact' removed
      default:
        return <Home setPage={setCurrentPage} setPipeline={setCurrentPipeline} />;
    }
  };

  return (
    <div className="bg-slate-900 min-h-screen text-slate-100 font-sans selection:bg-cyan-500/30 selection:text-cyan-200">
      <NavBar setPage={setCurrentPage} currentPage={currentPage} />
      <main className="min-h-screen">
        {renderContent()}
      </main>
      <Footer />
      
      {/* Global CSS for animations */}
      <style>{`
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.8s ease-out forwards;
        }
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
      `}</style>
    </div>
  );
};

export default App;